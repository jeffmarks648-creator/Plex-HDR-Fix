# This is a sample input.conf file. You may edit this file as you desire to change MPV's input commands. See the input.conf.md file for more info

# Tone-Mapping
m show-text "Tone Mapping: ${tone-mapping} (${video-out-params/primaries}->${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR})\nParam: ${tone-mapping-param}\nSaturation: ${saturation}\nCompute Peak: ${hdr-compute-peak}\nPeak(Set/Master): ${target-peak}/${video-out-params/max-luma}\nInterpolation: ${interpolation}\nVideo Sync: ${video-sync}"
M cycle tone-mapping ; show-text "Tone Mapping: ${tone-mapping} (${video-out-params/primaries}->${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR})"
Alt+m cycle tone-mapping down; show-text "Tone Mapping: ${tone-mapping} (${video-out-params/primaries}->${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR})"
Alt+M set tone-mapping auto; show-text "Tone Mapping reset: ${tone-mapping} (${video-out-params/primaries}->${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR})"

# Tone-Mapping-Parameters
n show-text "Tone Mapping Param: ${tone-mapping-param} (${tone-mapping})"
N add tone-mapping-param 0.1 ; show-text "Tone Mapping Param: ${tone-mapping-param} (${tone-mapping})"
Alt+n add tone-mapping-param -0.1 ; show-text "Tone Mapping Param: ${tone-mapping-param} (${tone-mapping})"
Alt+N set tone-mapping-param default ; show-text "Tone Mapping Param reset: ${tone-mapping-param} (${tone-mapping})"

# Compute-Peak
c show-text "Compute Peak: ${hdr-compute-peak}"
C cycle hdr-compute-peak ; show-text "Compute Peak: ${hdr-compute-peak}"
Alt+c cycle hdr-compute-peak down; show-text "Compute Peak: ${hdr-compute-peak}"
Alt+C set hdr-compute-peak auto ; show-text "Compute Peak reset: ${hdr-compute-peak}"

# Target-Peak
p show-text "Target Peak: ${target-peak}"
P cycle-values target-peak "450" "440" "430" "420" "410" "400" "390" "380" "370" "360" "350" "340" "330" "320" "310" "300" "290" "280" "270" "260" "250" "240" "230" "220" "210" "auto" "200" "190" "180" "170" "160" "150" "140" "130" "120" "110" "100" ; show-text "Target Peak: ${target-peak}"
Alt+p cycle-values !reverse target-peak "450" "440" "430" "420" "410" "400" "390" "380" "370" "360" "350" "340" "330" "320" "310" "300" "290" "280" "270" "260" "250" "240" "230" "220" "210" "auto" "200" "190" "180" "170" "160" "150" "140" "130" "120" "110" "100" ; show-text "Target Peak: ${target-peak}"
Alt+P set target-peak auto ; show-text "Target Peak reset: ${target-peak}"

# Saturation
s show-text "Saturation: ${saturation}"
S add saturation 1 ; show-text "Saturation: ${saturation}"
Alt+s add saturation -1 ; show-text "Saturation: ${saturation}"
Alt+S set saturation 0 ; show-text "Saturation Reset: 0"

# Interpolation
i show-text "Interpolation: ${interpolation} ${tscale}"
I cycle-values interpolation "no" "yes" ; show-text "Interpolation: ${interpolation} ${tscale}"

# Output-Mode
t show-text "Output Mode：${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR}"
T cycle-values target-colorspace-hint yes no ; show-text "Output Mode：${?target-colorspace-hint==yes:HDR}${?target-colorspace-hint==no:SDR}"
# Display Stats

# MPV/Custom Mode
R cycle-values options/osd-msg1 "auto" "custom" ; show-text "Mode: ${options/osd-msg1}"
r show-text "Mode: ${options/osd-msg1}"

# Panscen & Zoom Mode
h show-text "Zoom: ${video-zoom}\nPanscan: ${panscan}"
H cycle-values panscan 0 1 ; show-text "Zoom: ${video-zoom}\nPanscan: ${panscan}"
Alt+h cycle-values video-zoom 0.32193 0 ; show-text "Zoom: ${video-zoom}\nPanscan: ${panscan}"
Alt+H set panscan 0 ; set video-zoom 0 ; show-text "Reset Zoom & Panscan"

# Unscaled Mode
w show-text "Unscaled Mode: ${video-unscaled}"
W cycle video-unscaled ; show-text "Unscaled Mode: ${video-unscaled}"

# Filter: Crop from wide screen and also maintain the 4-pixel alignment
f show-text "Filter:\n${vf}\nResolution: ${video-out-params/w}x${video-out-params/h}\nRatio: ${video-out-params/aspect} (${video-out-params/aspect-name})"
F cycle-values vf "pad=ceil(iw/4)*4:ceil(ih/2)*2" "pad=ceil(iw/4)*4:ceil(ih/2)*2,crop=ceil(ih*16/9/4)*4:ih" "pad=ceil(iw/4)*4:ceil(ih/2)*2,crop=ceil(iw*0.8/4)*4:ceil(ih*0.8/4)*4:floor((iw-ow)/2/2)*2:floor((ih-oh)/2/2)*2" "pad=ceil(iw/4)*4:ceil(ih/2)*2,crop=ceil(ih*1.9/4)*4:ih" ; show-text "Filter:\n${vf}"
Alt+F set vf "pad=ceil(iw/4)*4:ceil(ih/4)*4" ; show-text "Filter reset"

# Dashboard
d script-binding stats/display-stats-toggle
1 script-message-to stats display-page 1
v show-text "${video-out-params}"
g cycle tone-mapping-visualize ; show-text "Visualize Tone-Mapping Graph"
